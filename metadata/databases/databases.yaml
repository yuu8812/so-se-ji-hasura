- name: default
  kind: postgres
  configuration:
    connection_info:
      database_url:
        from_env: HASURA_GRAPHQL_DATABASE_URL
      isolation_level: read-committed
      pool_settings:
        connection_lifetime: 600
        idle_timeout: 180
        max_connections: 50
        retries: 1
      use_prepared_statements: true
  logical_models:
    - fields:
        - name: id
          type:
            nullable: true
            scalar: uuid
        - name: text
          type:
            nullable: true
            scalar: text
        - name: created_at
          type:
            nullable: true
            scalar: timestamptz
        - name: law_id
          type:
            nullable: true
            scalar: uuid
      name: random_comment
  native_queries:
    - arguments: {}
      code: SELECT comments.id AS id, comments.text AS text, comments.created_at as created_at, comments.law_id as law_id  FROM comments JOIN laws ON laws.id = comments.law_id ORDER BY random() LIMIT 1;
      returns: random_comment
      root_field_name: find_random_comment_by_law
  tables: "!include default/tables/tables.yaml"
